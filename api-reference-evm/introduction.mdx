---
title: "Introduction"
---

The SQD Network Portal API provides access to various blockchain datasets. Each dataset is accessible through a set of endpoints under `/datasets/{dataset-name}/`.

## Getting Started

1. First, list available datasets using the [GET /datasets](/api-reference-evm/endpoint/get-datasets) endpoint:

```bash
curl https://portal.sqd.dev/datasets
```

2. Choose a dataset from the response (e.g., `ethereum-mainnet`, `solana-mainnet`).

3. Access dataset-specific endpoints by replacing `{dataset}` in the URL with your chosen dataset name:

```bash
# Get metadata for ethereum-mainnet
curl https://portal.sqd.dev/datasets/ethereum-mainnet/metadata

# Get latest block for base-mainnet
curl https://portal.sqd.dev/datasets/base-mainnet/head
```

## Data Streaming

Request the data you need by [POSTing to `/stream`](/api-reference-evm/endpoint/post-stream) and you shall receive a stream of newline-separated JSON objects that package your data by block. For example

```bash
curl https://portal.sqd.dev/datasets/ethereum-mainnet/stream \
  -X POST \
  -d '{
    "type": "evm",
    "fromBlock": 16000000,
    "toBlock": 16000001,
    "fields": {
      "block": {"number": true},
      "log": {"data": true}
    },
    "logs": [
      {"address": [
        "0x2260fac5e5542a773aa44fbcfedf7c193bc2c599"
      ]}
    ]
  }'
```

outputs

```json
{"header":{"number":16000000},"logs":[{"data":"0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"}]}
{"header":{"number":16000001},"logs":[{"data":"0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"}]}
```

## Finality

1. The API provides two endpoints for getting the current block height: `/head` and `/finalized-head`. The former returns the latest block, while the latter returns the latest finalized block. A block is considered finalized when it's extremely unlikely to be reverted.

2. Ensuring data correctness when streaming unfinalized blocks is somewhat complicated. If you don't want to deal with that complexity and don't mind that the newest available data is up to several hours old, use the alternative [`/finalized-stream` endpoint](/api-reference-evm/endpoint/post-finalized-stream); otherwise read on.

   <Expandable title="unfinalized blocks streaming instructions">

   Since the API sends the blocks before it can ascertain that they are final, it will occasionally stream blocks that end up being [orphaned](https://academy.binance.com/en/glossary/orphan-block). The client must detect such situations and process them according to its business logic. For example

   1. The API streams blocks 100, 101, 102
   2. Later it streams block 101' (same height, different hash) and 102'
   3. The client must detect that blocks 101 and 102 were orphaned and process blocks 101' and 102' instead

   To detect block reverts, the client should:

   1. Keep track of the block hashes it has processed
   2. For each block check that its parent hash matches the hash of the previously processed block
   3. If there's a mismatch, find the latest common ancestor and reprocess all blocks after it

   The API provides several features to help with this:

   1. Each block contains its parent's hash
   2. The API guarantees that it will never skip blocks
   3. The response headers contain the latest finalized block number and hash. All returned blocks are guaranteed to belong to the same chain as this block.

   </Expandable>

## Other Endpoints

- [GET /metadata](/api-reference-evm/endpoint/get-metadata) - Dataset metadata, including the number of the lowest available block
- [GET /head](/api-reference-evm/endpoint/get-head) - Block number and hash of the highest block in the dataset
- [GET /finalized-head](/api-reference-evm/endpoint/get-finalized-head) - Same as /head, but only for finalized blocks
- [POST /finalized-stream](/api-reference-evm/endpoint/post-finalized-stream) - Same as [POST /stream](/api-reference-evm/endpoint/post-stream), but only returns finalized blocks
- [GET /state](/api-reference-evm/endpoint/get-state) - Information about how the dataset is distributed within the SQD Network
